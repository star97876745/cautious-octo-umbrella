<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<title>๐ ุงูุญุงุณุจุฉ ุงูุฐููุฉ ููุฑุณู ููุฑู ุงูุนุฑุงู</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>
<body>
<button onclick="toggleTheme()" style="position:fixed;top:10px;left:10px;">๐</button>
<div class="card">
  <h1>๐ฆ ุงูุญุงุณุจุฉ ุงูุฐููุฉ</h1>
  <label>๐ ุงุจุญุซ ุจุงูุงุณู ุฃู IDE</label><input id="q">
  <label>โ๏ธ ุงููุฒู ุงูููู (ูุบ)</label><input id="w" type="number">
  <label>๐ต ุงูุฑุณู ุงููุฏููุน ุจุฅุจุฑุงููู ุฎููู (USD)</label><input id="paid" type="number">
  <label>๐ฐ ุงููููุฉ ุงููููุฉ ููุญูู (USD)</label><input id="total" type="number">
  <label>๐ ูููุฉ ุงูุฅูุฑุงุฏ (GDS_YER)</label><input id="yer" type="number">
  <label>๐ข ุณุนุฑ ุงูุตุฑู (ุฏููุงุฑ/ุฏููุงุฑ)</label><input id="ex" type="number" value="1320">
  <label>๐ท๏ธ ุงููุณุจุฉ (%)</label><input id="rt" type="number" value="6" step="0.01">
  <button onclick="calc()">ุงุญุณุจ</button>
  <div id="out" class="result ok" style="display:none"></div>
</div>
<script>
let DB=[],current=null;const $=s=>document.querySelector(s);
const fmt=x=>{const n=Number(x);return isFinite(n)?n.toLocaleString('ar-IQ',{maximumFractionDigits:3}):'-';};
function calc(){const w=parseFloat($("#w").value)||0,paid=parseFloat($("#paid").value)||0,yer=parseFloat($("#yer").value)||0,ex=parseFloat($("#ex").value)||1320,rt=parseFloat($("#rt").value)||6;if(!(w>0)||!(yer>0)){alert("โ๏ธ ุฃุฏุฎู ุงููุฒู ููููุฉ GDS_YER");return;}const A=w*yer*(rt/100);const B=paid;const AB=(A-B)*ex;$("#out").style.display="";$("#out").innerHTML=`<div>๐ท๏ธ ุงูููุชุฌ: ${current?current.product:($("#q").value||"-")}</div><div>๐ข IDE: ${current?(current.IDE||"-"):"-"}</div><div>โ๏ธ ุงููุฒู ุงูููู: ${fmt(w)} ูุบ</div><div>๐ฐ ูููุฉ GDS_YER: ${fmt(yer)} USD/ุทู</div><div>๐ท๏ธ ุงููุณุจุฉ: ${rt}%</div><div>๐ต ุงูุฑุณู ุจุฅุจุฑุงููู ุฎููู: ${fmt(B)} USD</div><div><b>โ๐ณ ุงูุฑุณู ุงูููุงุฆู: ${fmt(AB)} ุฏููุงุฑ</b></div>`;}
(async()=>{try{const res=await fetch("products.json");DB=await res.json();}catch{}const p=new URLSearchParams(location.search);const q=p.get("name")||p.get("ide");if(q){$("#q").value=q;current=DB.find(r=>r.product==q||r.IDE==q)||null;if(current&&current.GDS_YER)$("#yer").value=current.GDS_YER;}})();
function toggleTheme(){document.body.classList.toggle("light");}
</script>
</body>
</html>